<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Visualize the interpolated LCZ-Thermal Anomaly map — lcz_anomaly_map • LCZ4r</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Open_Sans-0.4.9/font.css" rel="stylesheet"><link href="../deps/Montserrat-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualize the interpolated LCZ-Thermal Anomaly map — lcz_anomaly_map"><meta name="description" content="This function generates a spatial interpolation of thermal anomaly for different Local Climate Zones (LCZs). More details: https://bymaxanjos.github.io/LCZ4r/articles/Introd_local_LCZ4r.html"><meta property="og:description" content="This function generates a spatial interpolation of thermal anomaly for different Local Climate Zones (LCZs). More details: https://bymaxanjos.github.io/LCZ4r/articles/Introd_local_LCZ4r.html"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">LCZ4r</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fa-home"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><h6 class="dropdown-header" data-toc-skip>Installation</h6></li>
    <li><a class="dropdown-item" href="../articles/instalation_lcz4r.html">Installing LCZ4r in RStudio</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>General Functions Overview</h6></li>
    <li><a class="dropdown-item" href="../articles/Introd_genera_LCZ4r.html">Map, Area and Paramerters</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Local Functions Overview</h6></li>
    <li><a class="dropdown-item" href="../articles/Introd_local_LCZ4r.html">Introduction to Local Functions</a></li>
    <li><a class="dropdown-item" href="../articles/local_func_time_series.html">Time Series Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/local_func_anomaly.html">Thermal Anomalies</a></li>
    <li><a class="dropdown-item" href="../articles/local_func_modeling.html">Temperature Modeling with LCZ</a></li>
    <li><a class="dropdown-item" href="../articles/local_func_uhi.html">Urban Heat Island (UHI) Analysis</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lcz-r-qgis" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">LCZ4r-QGIS</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-lcz-r-qgis"><li><h6 class="dropdown-header" data-toc-skip>Plugin Overview</h6></li>
    <li><a class="dropdown-item" href="../articles/Introd_QGIS_LCZ4r.html">Introduction to LCZ4r-QGIS plugin</a></li>
    <li><a class="dropdown-item" href="../articles/instalation_lcz4r_qgis.html">Installing LCZ4r in QGIS</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Multilingual Plugin (script)</h6></li>
    <li><a class="dropdown-item" href="../articles/english_lcz4r_qgis.html">English</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ByMaxAnjos/LCZ4r/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Visualize the interpolated LCZ-Thermal Anomaly map</h1>
      <small class="dont-index">Source: <a href="https://github.com/ByMaxAnjos/LCZ4r/blob/main/R/lcz_anomaly_map.R" class="external-link"><code>R/lcz_anomaly_map.R</code></a></small>
      <div class="d-none name"><code>lcz_anomaly_map.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function generates a spatial interpolation of thermal anomaly for different Local Climate Zones (LCZs). More details: <a href="https://bymaxanjos.github.io/LCZ4r/articles/Introd_local_LCZ4r.html">https://bymaxanjos.github.io/LCZ4r/articles/Introd_local_LCZ4r.html</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">lcz_anomaly_map</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  data_frame <span class="op">=</span> <span class="st">""</span>,</span>
<span>  var <span class="op">=</span> <span class="st">""</span>,</span>
<span>  station_id <span class="op">=</span> <span class="st">""</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  sp.res <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  tp.res <span class="op">=</span> <span class="st">"hour"</span>,</span>
<span>  vg.model <span class="op">=</span> <span class="st">"Sph"</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  impute <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  isave <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  LCZinterp <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>SpatRaster</code> object containing the LCZ map. The LCZ map can be obtained using the <code><a href="lcz_get_map.html">lcz_get_map()</a></code> function.</p></dd>


<dt id="arg-data-frame">data_frame<a class="anchor" aria-label="anchor" href="#arg-data-frame"></a></dt>
<dd><p>A data frame containing air temperature measurements and station IDs. The data frame should have a date field in hourly or higher resolution format.</p></dd>


<dt id="arg-var">var<a class="anchor" aria-label="anchor" href="#arg-var"></a></dt>
<dd><p>Name of the variable for interpolation, e.g. air temperature, in the dataframe.</p></dd>


<dt id="arg-station-id">station_id<a class="anchor" aria-label="anchor" href="#arg-station-id"></a></dt>
<dd><p>Name of the station ID variable in the dataframe.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments for the <code>selectBydata</code> from <code>openair</code> package. These include:</p><ul><li><p>A start date string in the form "1/2/1999" or in format "YYYY-mm-dd", e.g., "1999-02-01".</p></li>
<li><p>A year or years to select, e.g., year = 1998:2004 to select 1998-2004 inclusive, or year = c(1998, 2004) to select 1998 and 2004.</p></li>
<li><p>A month or months to select. Can either be numeric, e.g., month = 1:6 to select January to June, or by name, e.g., month = c("January", "December").</p></li>
</ul></dd>


<dt id="arg-sp-res">sp.res<a class="anchor" aria-label="anchor" href="#arg-sp-res"></a></dt>
<dd><p>Spatial resolution in unit of meters for interpolation. Default is 100.</p></dd>


<dt id="arg-tp-res">tp.res<a class="anchor" aria-label="anchor" href="#arg-tp-res"></a></dt>
<dd><p>Temporal resolution, the time period to average to. Default is “hour”, but includes “day”, “week”, “month” or “year”.</p></dd>


<dt id="arg-vg-model">vg.model<a class="anchor" aria-label="anchor" href="#arg-vg-model"></a></dt>
<dd><p>If kriging is selected, the list of viogrammodels that will be tested and interpolated with kriging. Default is "Sph". The model are "Sph", "Exp", "Gau", "Ste". They names respective shperical, exponential, gaussian,Matern familiy, Matern, M. Stein's parameterization.</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>data frame time-serie split: “year”, “season”, “seasonyear”,  “month”, “monthyear”, “weekday”, “weekend”,  “site”,
“daylight”(daytime and nighttime).See argument <em>type</em> in openair package:  <a href="https://bookdown.org/david_carslaw/openair/sections/intro/openair-package.html#the-type-option" class="external-link">https://bookdown.org/david_carslaw/openair/sections/intro/openair-package.html#the-type-option</a></p></dd>


<dt id="arg-impute">impute<a class="anchor" aria-label="anchor" href="#arg-impute"></a></dt>
<dd><p>Method to impute missing values (“mean”, “median”, “knn”, “bag”).</p></dd>


<dt id="arg-isave">isave<a class="anchor" aria-label="anchor" href="#arg-isave"></a></dt>
<dd><p>Save the map into your directory.</p></dd>


<dt id="arg-lczinterp">LCZinterp<a class="anchor" aria-label="anchor" href="#arg-lczinterp"></a></dt>
<dd><p>If set to TRUE (default), the LCZ interpolation approach is used. If set to FALSE, conventional interpolation without LCZ is used.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A map of LCZ-thermal anomalies in <code>terra raster GeoTIF</code> format</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See the documentation for <code><a href="lcz_get_map.html">lcz_get_map()</a></code> to obtain an LCZ map.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span> <span class="co">#Daily air temperature values in September 2019 .</span></span></span>
<span class="r-in"><span> <span class="va">my_anomaly</span> <span class="op">&lt;-</span> <span class="fu">lcz_anomaly_map</span><span class="op">(</span><span class="va">lcz_map</span>, data_frame <span class="op">=</span> <span class="va">lcz_data</span>, var <span class="op">=</span> <span class="st">"airT"</span>,</span></span>
<span class="r-in"><span>                              station_id <span class="op">=</span> <span class="st">"station"</span>, tp.res <span class="op">=</span> <span class="st">"day"</span>, sp.res<span class="op">=</span> <span class="st">"100"</span>,</span></span>
<span class="r-in"><span>                               year <span class="op">=</span> <span class="fl">2019</span>, month<span class="op">=</span><span class="fl">9</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Max Anjos.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

